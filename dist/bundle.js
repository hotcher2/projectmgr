(()=>{"use strict";var t={752:(t,e,n)=>{var r=n(377),o=n(134);new r.ProjectInput,new o.ProjectList("active"),new o.ProjectList("finished")},583:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var n=function(){function t(t,e,n,r){this.templateElement=document.getElementById(t),this.hostElement=document.getElementById(e);var o=document.importNode(this.templateElement.content,!0);this.element=o.firstElementChild,r&&(this.element.id=r),this.attach(n)}return t.prototype.attach=function(t){this.hostElement.insertAdjacentElement(t?"afterbegin":"beforeend",this.element)},t}();e.Component=n},377:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectInput=void 0;var a=n(583),s=n(954),c=n(905),u=n(169),p=function(t){function e(){var e=t.call(this,"project-input","app",!0,"user-input")||this;return e.titleInputElement=e.element.querySelector("#title"),e.descriptionInputElement=e.element.querySelector("#description"),e.peopleInputElement=e.element.querySelector("#people"),e.configure(),e}return o(e,t),e.prototype.submitHandler=function(t){t.preventDefault();var e=this.gatherUserInput();if(Array.isArray(e)){var n=e[0],r=e[1],o=e[2];u.projectState.addProject(n,r,o),this.clearInputs()}},e.prototype.clearInputs=function(){this.titleInputElement.value="",this.descriptionInputElement.value="",this.peopleInputElement.value=""},e.prototype.gatherUserInput=function(){var t=this.titleInputElement.value,e=this.descriptionInputElement.value,n=this.peopleInputElement.value,r={value:t,required:!0},o={value:e,required:!0,minLength:5},i={value:+n,required:!0,min:1,max:5};return s.validate(r)&&s.validate(o)&&s.validate(i)?[t,e,+n]:void alert("Invalid input, Please try again.")},e.prototype.configure=function(){this.element.addEventListener("submit",this.submitHandler)},e.prototype.renderContent=function(){},i([c.autobind],e.prototype,"submitHandler",null),e}(a.Component);e.ProjectInput=p},98:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectListItem=void 0;var a=n(583),s=n(905),c=function(t){function e(e,n){var r=t.call(this,"single-project",e+"-projects-list",!1,Math.random().toString())||this;return r.project=n,r.configure(),r.renderContent(),r}return o(e,t),Object.defineProperty(e.prototype,"persons",{get:function(){return 1===this.project.people?"1 person":this.project.people+" persons"},enumerable:!1,configurable:!0}),e.prototype.dragStartHandler=function(t){var e;null===(e=t.dataTransfer)||void 0===e||e.setData("text/plain",this.project.id),t.dataTransfer.effectAllowed="move"},e.prototype.dragEndHandler=function(t){console.log("drag end event")},e.prototype.configure=function(){this.element.addEventListener("dragstart",this.dragStartHandler),this.element.addEventListener("dragend",this.dragEndHandler)},e.prototype.renderContent=function(){this.element.textContent=this.project.title+" - "+this.project.description+" - "+this.persons+" assigned"},i([s.autobind],e.prototype,"dragStartHandler",null),e}(a.Component);e.ProjectListItem=c},134:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectList=void 0;var a=n(583),s=n(905),c=n(294),u=n(169),p=n(98),l=function(t){function e(e){var n=t.call(this,"project-list","app",!1,e+"-projects")||this;return n.type=e,n.assignedProjects=[],n.configure(),n.renderContent(),n}return o(e,t),e.prototype.dragOverHandler=function(t){t.dataTransfer&&"text/plain"===t.dataTransfer.types[0]&&(t.preventDefault(),this.element.querySelector("ul").classList.add("droppable"))},e.prototype.dropHandler=function(t){var e,n=null===(e=t.dataTransfer)||void 0===e?void 0:e.getData("text/plain");u.projectState.moveProject(n,"active"===this.type?c.ProjectStatus.Active:c.ProjectStatus.Finished)},e.prototype.dragLeaveHandler=function(t){this.element.querySelector("ul").classList.remove("droppable")},e.prototype.configure=function(){var t=this;this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("drop",this.dropHandler),u.projectState.addListener((function(e){var n=e.filter((function(e){return"active"===t.type?e.status===c.ProjectStatus.Active:e.status===c.ProjectStatus.Finished}));t.assignedProjects=n,t.renderContent()}))},e.prototype.renderContent=function(){var t=this.type+"-projects-list",e=this.element.querySelector("ul");e.id=t,e.innerHTML="",this.element.querySelector("h2").textContent=this.type.toUpperCase()+" PROJECTS";for(var n=0,r=this.assignedProjects;n<r.length;n++){var o=r[n];new p.ProjectListItem(this.type,o)}},i([s.autobind],e.prototype,"dragOverHandler",null),i([s.autobind],e.prototype,"dropHandler",null),i([s.autobind],e.prototype,"dragLeaveHandler",null),e}(a.Component);e.ProjectList=l},905:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.autobind=void 0,e.autobind=function(t,e,n){var r=n.value;return{configurable:!0,get:function(){return r.bind(this)}}}},294:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Project=e.ProjectStatus=void 0,(n=e.ProjectStatus||(e.ProjectStatus={}))[n.Active=0]="Active",n[n.Finished=1]="Finished";e.Project=function(t,e,n,r,o){this.id=t,this.title=e,this.description=n,this.people=r,this.status=o}},169:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.projectState=e.ProjectState=void 0;var i=n(294),a=function(t){function e(){var e=t.call(this)||this;return e.projects=[],e}return o(e,t),e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.addProject=function(t,e,n){var r=new i.Project(Math.random().toString(),t,e,n,i.ProjectStatus.Active);this.projects.push(r),this.updateListeners()},e.prototype.moveProject=function(t,e){var n=this.projects.filter((function(e){return e.id===t}))[0];n.status!=e&&(n.status=e,this.updateListeners())},e.prototype.updateListeners=function(){for(var t=0,e=this.listeners;t<e.length;t++)(0,e[t])(this.projects.slice())},e}(function(){function t(){this.listeners=[]}return t.prototype.addListener=function(t){this.listeners.push(t)},t}());e.ProjectState=a,e.projectState=a.getInstance()},954:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validate=void 0,e.validate=function(t){var e=!0;return t.required&&(e=e&&0!==t.value.toString().trim().length),null!=t.minLength&&"string"==typeof t.value&&(e=e&&t.value.length>=t.minLength),null!=t.maxLength&&"string"==typeof t.value&&(e=e&&t.value.length<=t.maxLength),null!=t.min&&"number"==typeof t.value&&(e=e&&t.value>=t.min),null!=t.max&&"number"==typeof t.value&&(e=e&&t.value<=t.max),e}}},e={};!function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}(752)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtaW5wdXQudHMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvY29tcG9uZW50cy9wcm9qZWN0LWxpc3QtaXRlbS50cyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtbGlzdC50cyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9kZWNvcmF0b3JzL2F1dG9iaW5kLnRzIiwid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL21vZGVscy9wcm9qZWN0LnRzIiwid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL3N0YXRlL3Byb2plY3Qtc3RhdGUudHMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvdXRpbC92YWxpZGF0aW9uLnRzIiwid2VicGFjazovL3RlbXBsYXRlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RlbXBsYXRlL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJQcm9qZWN0SW5wdXQiLCJQcm9qZWN0TGlzdCIsInRlbXBsYXRlSWQiLCJob3N0RWxlbWVudElkIiwiaW5zZXJ0QXRTdGFydCIsIm5ld0VsZW1lbnRJZCIsInRoaXMiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaG9zdEVsZW1lbnQiLCJpbXBvcnRlZE5vZGUiLCJpbXBvcnROb2RlIiwiY29udGVudCIsImVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImlkIiwiYXR0YWNoIiwiaW5zZXJ0QXRCZWdpbm5pbmciLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJDb21wb25lbnQiLCJ0aXRsZUlucHV0RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkZXNjcmlwdGlvbklucHV0RWxlbWVudCIsInBlb3BsZUlucHV0RWxlbWVudCIsImNvbmZpZ3VyZSIsInN1Ym1pdEhhbmRsZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidXNlcklucHV0IiwiZ2F0aGVyVXNlcklucHV0IiwiQXJyYXkiLCJpc0FycmF5IiwidGl0bGUiLCJkZXNjIiwicGVvcGxlIiwicHJvamVjdFN0YXRlIiwiYWRkUHJvamVjdCIsImNsZWFySW5wdXRzIiwidmFsdWUiLCJlbnRlcmVkVGl0bGUiLCJlbnRlcmVkRGVzY3JpcHRpb24iLCJlbnRlcmVkUGVvcGxlIiwidGl0bGVWYWxpZGF0YWJsZSIsInJlcXVpcmVkIiwiZGVzY3JpcHRpb25WYWxpZGF0YWJsZSIsIm1pbkxlbmd0aCIsInBlb3BsZVZhbGlkYXRhYmxlIiwibWluIiwibWF4IiwidmFsaWRhdGUiLCJhbGVydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXJDb250ZW50IiwiYXV0b2JpbmQiLCJ0eXBlIiwicHJvamVjdCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsImRyYWdTdGFydEhhbmRsZXIiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwiZWZmZWN0QWxsb3dlZCIsImRyYWdFbmRIYW5kbGVyIiwiY29uc29sZSIsImxvZyIsInRleHRDb250ZW50IiwiZGVzY3JpcHRpb24iLCJwZXJzb25zIiwiUHJvamVjdExpc3RJdGVtIiwiYXNzaWduZWRQcm9qZWN0cyIsImRyYWdPdmVySGFuZGxlciIsInR5cGVzIiwiY2xhc3NMaXN0IiwiYWRkIiwiZHJvcEhhbmRsZXIiLCJwcmpJZCIsImdldERhdGEiLCJtb3ZlUHJvamVjdCIsIlByb2plY3RTdGF0dXMiLCJBY3RpdmUiLCJGaW5pc2hlZCIsImRyYWdMZWF2ZUhhbmRsZXIiLCJfIiwicmVtb3ZlIiwiYWRkTGlzdGVuZXIiLCJwcm9qZWN0cyIsInJlbGV2YW50UHJvamVjdHMiLCJmaWx0ZXIiLCJwcmoiLCJzdGF0dXMiLCJsaXN0SWQiLCJsaXN0RWwiLCJpbm5lckhUTUwiLCJ0b1VwcGVyQ2FzZSIsInByakl0ZW0iLCJ0YXJnZXQiLCJtZXRob2ROYW1lIiwiZGVzY3JpcHRvciIsIm9yaWdpbmFsTWV0aG9kIiwiY29uZmlndXJhYmxlIiwiZ2V0IiwiYmluZCIsIlByb2plY3QiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwiUHJvamVjdFN0YXRlIiwibnVtT2ZQZW9wbGUiLCJuZXdQcm9qZWN0IiwicHVzaCIsInVwZGF0ZUxpc3RlbmVycyIsInByb2plY3RJZCIsIm5ld1N0YXR1cyIsImxpc3RlbmVycyIsImxpc3RlbmVyRm4iLCJzbGljZSIsInZhbGlkYXRhYmxlSW5wdXQiLCJpc1ZhbGlkIiwidHJpbSIsImxlbmd0aCIsIm1heExlbmd0aCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJtYXBwaW5ncyI6IndDQUFBLGFBQ0EsU0FFQSxJQUFJLEVBQUFBLGFBQ0osSUFBSSxFQUFBQyxZQUFZLFVBQ2hCLElBQUksRUFBQUEsWUFBWSxhLGdGQ0poQixpQkFLRSxXQUNFQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUVBQyxLQUFLQyxnQkFBa0JDLFNBQVNDLGVBQzlCUCxHQUVGSSxLQUFLSSxZQUFjRixTQUFTQyxlQUFlTixHQUUzQyxJQUFNUSxFQUFlSCxTQUFTSSxXQUM1Qk4sS0FBS0MsZ0JBQWdCTSxTQUNyQixHQUdGUCxLQUFLUSxRQUFVSCxFQUFhSSxrQkFFeEJWLElBQ0ZDLEtBQUtRLFFBQVFFLEdBQUtYLEdBR3BCQyxLQUFLVyxPQUFPYixHQVloQixPQVRVLFlBQUFhLE9BQVIsU0FBZUMsR0FDYlosS0FBS0ksWUFBWVMsc0JBQ2ZELEVBQW9CLGFBQWUsWUFDbkNaLEtBQUtRLFVBTVgsRUF2Q0EsR0FBc0IsRUFBQU0sYSw4eEJDRHRCLGFBQ0EsU0FDQSxTQUNBLFNBR0EsY0FLRSxtQkFDRSxZQUFNLGdCQUFpQixPQUFPLEVBQU0sZUFB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dW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9qZWN0SW5wdXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL3Byb2plY3QtaW5wdXRcIjtcclxuaW1wb3J0IHsgUHJvamVjdExpc3QgfSBmcm9tIFwiLi9jb21wb25lbnRzL3Byb2plY3QtbGlzdFwiO1xyXG5cclxubmV3IFByb2plY3RJbnB1dCgpO1xyXG5uZXcgUHJvamVjdExpc3QoXCJhY3RpdmVcIik7XHJcbm5ldyBQcm9qZWN0TGlzdChcImZpbmlzaGVkXCIpO1xyXG4iLCIvLyBDb21wb25lbnQgQmFzZSBDbGFzc1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50PFQgZXh0ZW5kcyBIVE1MRWxlbWVudCwgVSBleHRlbmRzIEhUTUxFbGVtZW50PiB7XHJcbiAgdGVtcGxhdGVFbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIGhvc3RFbGVtZW50OiBUO1xyXG4gIGVsZW1lbnQ6IFU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgdGVtcGxhdGVJZDogc3RyaW5nLFxyXG4gICAgaG9zdEVsZW1lbnRJZDogc3RyaW5nLFxyXG4gICAgaW5zZXJ0QXRTdGFydDogYm9vbGVhbixcclxuICAgIG5ld0VsZW1lbnRJZD86IHN0cmluZ1xyXG4gICkge1xyXG4gICAgdGhpcy50ZW1wbGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgdGVtcGxhdGVJZFxyXG4gICAgKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gICAgdGhpcy5ob3N0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhvc3RFbGVtZW50SWQpIGFzIFQ7XHJcblxyXG4gICAgY29uc3QgaW1wb3J0ZWROb2RlID0gZG9jdW1lbnQuaW1wb3J0Tm9kZShcclxuICAgICAgdGhpcy50ZW1wbGF0ZUVsZW1lbnQuY29udGVudCxcclxuICAgICAgdHJ1ZVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBpbXBvcnRlZE5vZGUuZmlyc3RFbGVtZW50Q2hpbGQgYXMgVTtcclxuXHJcbiAgICBpZiAobmV3RWxlbWVudElkKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5pZCA9IG5ld0VsZW1lbnRJZDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmF0dGFjaChpbnNlcnRBdFN0YXJ0KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXR0YWNoKGluc2VydEF0QmVnaW5uaW5nOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmhvc3RFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcclxuICAgICAgaW5zZXJ0QXRCZWdpbm5pbmcgPyBcImFmdGVyYmVnaW5cIiA6IFwiYmVmb3JlZW5kXCIsXHJcbiAgICAgIHRoaXMuZWxlbWVudFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFic3RyYWN0IGNvbmZpZ3VyZSgpOiB2b2lkO1xyXG4gIGFic3RyYWN0IHJlbmRlckNvbnRlbnQoKTogdm9pZDtcclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9iYXNlLWNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBWYWxpZGF0YWJsZSwgdmFsaWRhdGUgfSBmcm9tIFwiLi4vdXRpbC92YWxpZGF0aW9uXCI7XHJcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSBcIi4uL2RlY29yYXRvcnMvYXV0b2JpbmRcIjtcclxuaW1wb3J0IHsgcHJvamVjdFN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlL3Byb2plY3Qtc3RhdGVcIjtcclxuXHJcbi8vIFByb2plY3RJbnB1dCBjbGFzc1xyXG5leHBvcnQgY2xhc3MgUHJvamVjdElucHV0IGV4dGVuZHMgQ29tcG9uZW50PEhUTUxEaXZFbGVtZW50LCBIVE1MRm9ybUVsZW1lbnQ+IHtcclxuICB0aXRsZUlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcclxuICBkZXNjcmlwdGlvbklucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcclxuICBwZW9wbGVJbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoXCJwcm9qZWN0LWlucHV0XCIsIFwiYXBwXCIsIHRydWUsIFwidXNlci1pbnB1dFwiKTtcclxuXHJcbiAgICB0aGlzLnRpdGxlSW5wdXRFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI3RpdGxlXCJcclxuICAgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICB0aGlzLmRlc2NyaXB0aW9uSW5wdXRFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI2Rlc2NyaXB0aW9uXCJcclxuICAgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICB0aGlzLnBlb3BsZUlucHV0RWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwZW9wbGVcIlxyXG4gICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgIHRoaXMuY29uZmlndXJlKCk7XHJcbiAgfVxyXG5cclxuICBAYXV0b2JpbmRcclxuICBwcml2YXRlIHN1Ym1pdEhhbmRsZXIoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgdXNlcklucHV0ID0gdGhpcy5nYXRoZXJVc2VySW5wdXQoKTtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXJJbnB1dCkpIHtcclxuICAgICAgY29uc3QgW3RpdGxlLCBkZXNjLCBwZW9wbGVdID0gdXNlcklucHV0O1xyXG4gICAgICBwcm9qZWN0U3RhdGUuYWRkUHJvamVjdCh0aXRsZSwgZGVzYywgcGVvcGxlKTtcclxuICAgICAgdGhpcy5jbGVhcklucHV0cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjbGVhcklucHV0cygpIHtcclxuICAgIHRoaXMudGl0bGVJbnB1dEVsZW1lbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgdGhpcy5kZXNjcmlwdGlvbklucHV0RWxlbWVudC52YWx1ZSA9IFwiXCI7XHJcbiAgICB0aGlzLnBlb3BsZUlucHV0RWxlbWVudC52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdhdGhlclVzZXJJbnB1dCgpOiBbc3RyaW5nLCBzdHJpbmcsIG51bWJlcl0gfCB2b2lkIHtcclxuICAgIGNvbnN0IGVudGVyZWRUaXRsZSA9IHRoaXMudGl0bGVJbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgICBjb25zdCBlbnRlcmVkRGVzY3JpcHRpb24gPSB0aGlzLmRlc2NyaXB0aW9uSW5wdXRFbGVtZW50LnZhbHVlO1xyXG4gICAgY29uc3QgZW50ZXJlZFBlb3BsZSA9IHRoaXMucGVvcGxlSW5wdXRFbGVtZW50LnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IHRpdGxlVmFsaWRhdGFibGU6IFZhbGlkYXRhYmxlID0ge1xyXG4gICAgICB2YWx1ZTogZW50ZXJlZFRpdGxlLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZGVzY3JpcHRpb25WYWxpZGF0YWJsZTogVmFsaWRhdGFibGUgPSB7XHJcbiAgICAgIHZhbHVlOiBlbnRlcmVkRGVzY3JpcHRpb24sXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICBtaW5MZW5ndGg6IDUsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHBlb3BsZVZhbGlkYXRhYmxlOiBWYWxpZGF0YWJsZSA9IHtcclxuICAgICAgdmFsdWU6ICtlbnRlcmVkUGVvcGxlLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgbWluOiAxLFxyXG4gICAgICBtYXg6IDUsXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChcclxuICAgICAgIXZhbGlkYXRlKHRpdGxlVmFsaWRhdGFibGUpIHx8XHJcbiAgICAgICF2YWxpZGF0ZShkZXNjcmlwdGlvblZhbGlkYXRhYmxlKSB8fFxyXG4gICAgICAhdmFsaWRhdGUocGVvcGxlVmFsaWRhdGFibGUpXHJcbiAgICApIHtcclxuICAgICAgYWxlcnQoXCJJbnZhbGlkIGlucHV0LCBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFtlbnRlcmVkVGl0bGUsIGVudGVyZWREZXNjcmlwdGlvbiwgK2VudGVyZWRQZW9wbGVdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uZmlndXJlKCkge1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5zdWJtaXRIYW5kbGVyKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckNvbnRlbnQoKSB7fVxyXG59XHJcbiIsImltcG9ydCB7IERyYWdnYWJsZSB9IGZyb20gXCIuLi9tb2RlbHMvZHJhZy1kcm9wXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2Jhc2UtY29tcG9uZW50XCI7XHJcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSBcIi4uL2RlY29yYXRvcnMvYXV0b2JpbmRcIjtcclxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuLi9tb2RlbHMvcHJvamVjdFwiO1xyXG5cclxuLy8gUHJvamVjdExpc3RJdGVtIGNsYXNzXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0TGlzdEl0ZW1cclxuICBleHRlbmRzIENvbXBvbmVudDxIVE1MVUxpc3RFbGVtZW50LCBIVE1MTElFbGVtZW50PlxyXG4gIGltcGxlbWVudHMgRHJhZ2dhYmxlIHtcclxuICBnZXQgcGVyc29ucygpIHtcclxuICAgIGlmICh0aGlzLnByb2plY3QucGVvcGxlID09PSAxKSB7XHJcbiAgICAgIHJldHVybiBcIjEgcGVyc29uXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYCR7dGhpcy5wcm9qZWN0LnBlb3BsZX0gcGVyc29uc2A7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnN0cnVjdG9yKHR5cGU6IFwiYWN0aXZlXCIgfCBcImZpbmlzaGVkXCIsIHByaXZhdGUgcHJvamVjdDogUHJvamVjdCkge1xyXG4gICAgc3VwZXIoXHJcbiAgICAgIFwic2luZ2xlLXByb2plY3RcIixcclxuICAgICAgYCR7dHlwZX0tcHJvamVjdHMtbGlzdGAsXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKClcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4gICAgdGhpcy5yZW5kZXJDb250ZW50KCk7XHJcbiAgfVxyXG5cclxuICBAYXV0b2JpbmRcclxuICBkcmFnU3RhcnRIYW5kbGVyKGV2ZW50OiBEcmFnRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2ZW50LmRhdGFUcmFuc2Zlcj8uc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGhpcy5wcm9qZWN0LmlkKTtcclxuICAgIGV2ZW50LmRhdGFUcmFuc2ZlciEuZWZmZWN0QWxsb3dlZCA9IFwibW92ZVwiO1xyXG4gIH1cclxuXHJcbiAgZHJhZ0VuZEhhbmRsZXIoZXZlbnQ6IERyYWdFdmVudCk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coXCJkcmFnIGVuZCBldmVudFwiKTtcclxuICB9XHJcblxyXG4gIGNvbmZpZ3VyZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMuZHJhZ1N0YXJ0SGFuZGxlcik7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgdGhpcy5kcmFnRW5kSGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJDb250ZW50KCkge1xyXG4gICAgdGhpcy5lbGVtZW50LnRleHRDb250ZW50ID0gYCR7dGhpcy5wcm9qZWN0LnRpdGxlfSAtICR7dGhpcy5wcm9qZWN0LmRlc2NyaXB0aW9ufSAtICR7dGhpcy5wZXJzb25zfSBhc3NpZ25lZGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2Jhc2UtY29tcG9uZW50XCI7XHJcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSBcIi4uL2RlY29yYXRvcnMvYXV0b2JpbmRcIjtcclxuaW1wb3J0IHsgUHJvamVjdCwgUHJvamVjdFN0YXR1cyB9IGZyb20gXCIuLi9tb2RlbHMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBEcmFnVGFyZ2V0IH0gZnJvbSBcIi4uL21vZGVscy9kcmFnLWRyb3BcIjtcclxuaW1wb3J0IHsgcHJvamVjdFN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlL3Byb2plY3Qtc3RhdGVcIjtcclxuaW1wb3J0IHsgUHJvamVjdExpc3RJdGVtIH0gZnJvbSBcIi4vcHJvamVjdC1saXN0LWl0ZW1cIjtcclxuXHJcbi8vIFByb2plY3RMaXN0IGNsYXNzXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0TGlzdFxyXG4gIGV4dGVuZHMgQ29tcG9uZW50PEhUTUxEaXZFbGVtZW50LCBIVE1MRWxlbWVudD5cclxuICBpbXBsZW1lbnRzIERyYWdUYXJnZXQge1xyXG4gIGFzc2lnbmVkUHJvamVjdHM6IFByb2plY3RbXTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB0eXBlOiBcImFjdGl2ZVwiIHwgXCJmaW5pc2hlZFwiKSB7XHJcbiAgICBzdXBlcihcInByb2plY3QtbGlzdFwiLCBcImFwcFwiLCBmYWxzZSwgYCR7dHlwZX0tcHJvamVjdHNgKTtcclxuICAgIHRoaXMuYXNzaWduZWRQcm9qZWN0cyA9IFtdO1xyXG4gICAgdGhpcy5jb25maWd1cmUoKTtcclxuICAgIHRoaXMucmVuZGVyQ29udGVudCgpO1xyXG4gIH1cclxuXHJcbiAgQGF1dG9iaW5kXHJcbiAgZHJhZ092ZXJIYW5kbGVyKGV2ZW50OiBEcmFnRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgJiYgZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzWzBdID09PSBcInRleHQvcGxhaW5cIikge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCBsaXN0RWwgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcInVsXCIpITtcclxuICAgICAgbGlzdEVsLmNsYXNzTGlzdC5hZGQoXCJkcm9wcGFibGVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAYXV0b2JpbmRcclxuICBkcm9wSGFuZGxlcihldmVudDogRHJhZ0V2ZW50KTogdm9pZCB7XHJcbiAgICBjb25zdCBwcmpJZCA9IGV2ZW50LmRhdGFUcmFuc2Zlcj8uZ2V0RGF0YShcInRleHQvcGxhaW5cIikhO1xyXG4gICAgcHJvamVjdFN0YXRlLm1vdmVQcm9qZWN0KFxyXG4gICAgICBwcmpJZCxcclxuICAgICAgdGhpcy50eXBlID09PSBcImFjdGl2ZVwiID8gUHJvamVjdFN0YXR1cy5BY3RpdmUgOiBQcm9qZWN0U3RhdHVzLkZpbmlzaGVkXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgQGF1dG9iaW5kXHJcbiAgZHJhZ0xlYXZlSGFuZGxlcihfOiBEcmFnRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IGxpc3RFbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwidWxcIikhO1xyXG4gICAgbGlzdEVsLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wcGFibGVcIik7XHJcbiAgfVxyXG5cclxuICBjb25maWd1cmUoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMuZHJhZ092ZXJIYW5kbGVyKTtcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIHRoaXMuZHJhZ0xlYXZlSGFuZGxlcik7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgdGhpcy5kcm9wSGFuZGxlcik7XHJcblxyXG4gICAgcHJvamVjdFN0YXRlLmFkZExpc3RlbmVyKChwcm9qZWN0czogUHJvamVjdFtdKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlbGV2YW50UHJvamVjdHMgPSBwcm9qZWN0cy5maWx0ZXIoKHByaikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IFwiYWN0aXZlXCIpIHtcclxuICAgICAgICAgIHJldHVybiBwcmouc3RhdHVzID09PSBQcm9qZWN0U3RhdHVzLkFjdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByai5zdGF0dXMgPT09IFByb2plY3RTdGF0dXMuRmluaXNoZWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmFzc2lnbmVkUHJvamVjdHMgPSByZWxldmFudFByb2plY3RzO1xyXG4gICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyQ29udGVudCgpIHtcclxuICAgIGNvbnN0IGxpc3RJZCA9IGAke3RoaXMudHlwZX0tcHJvamVjdHMtbGlzdGA7XHJcbiAgICBjb25zdCBsaXN0RWwgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcInVsXCIpITtcclxuICAgIGxpc3RFbC5pZCA9IGxpc3RJZDtcclxuICAgIGxpc3RFbC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoMlwiKSEudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aGlzLnR5cGUudG9VcHBlckNhc2UoKSArIFwiIFBST0pFQ1RTXCI7XHJcbiAgICBmb3IgKGNvbnN0IHByakl0ZW0gb2YgdGhpcy5hc3NpZ25lZFByb2plY3RzKSB7XHJcbiAgICAgIG5ldyBQcm9qZWN0TGlzdEl0ZW0odGhpcy50eXBlLCBwcmpJdGVtKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gYXV0b2JpbmQgZGVjb3JhdG9yXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRvYmluZChcclxuICB0YXJnZXQ6IGFueSxcclxuICBtZXRob2ROYW1lOiBzdHJpbmcsXHJcbiAgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yXHJcbikge1xyXG4gIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZTtcclxuICBjb25zdCBhZGpEZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IgPSB7XHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICBnZXQoKSB7XHJcbiAgICAgIGNvbnN0IGJvdW5kRm4gPSBvcmlnaW5hbE1ldGhvZC5iaW5kKHRoaXMpO1xyXG4gICAgICByZXR1cm4gYm91bmRGbjtcclxuICAgIH0sXHJcbiAgfTtcclxuICByZXR1cm4gYWRqRGVzY3JpcHRvcjtcclxufVxyXG4iLCIvLyBQcm9qZWN0IFR5cGVcclxuZXhwb3J0IGVudW0gUHJvamVjdFN0YXR1cyB7XHJcbiAgQWN0aXZlLFxyXG4gIEZpbmlzaGVkLFxyXG59XHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyBpZDogc3RyaW5nLFxyXG4gICAgcHVibGljIHRpdGxlOiBzdHJpbmcsXHJcbiAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZyxcclxuICAgIHB1YmxpYyBwZW9wbGU6IG51bWJlcixcclxuICAgIHB1YmxpYyBzdGF0dXM6IFByb2plY3RTdGF0dXNcclxuICApIHt9XHJcbn1cclxuIiwiaW1wb3J0IHsgUHJvamVjdCwgUHJvamVjdFN0YXR1cyB9IGZyb20gXCIuLi9tb2RlbHMvcHJvamVjdFwiO1xyXG5cclxuLy8gUHJvamVjdCBTdGF0ZSBNYW5hZ2VtZW50XHJcbnR5cGUgTGlzdGVuZXI8VD4gPSAoaXRlbXM6IFRbXSkgPT4gdm9pZDtcclxuXHJcbmNsYXNzIFN0YXRlPFQ+IHtcclxuICBwcm90ZWN0ZWQgbGlzdGVuZXJzOiBMaXN0ZW5lcjxUPltdID0gW107XHJcblxyXG4gIGFkZExpc3RlbmVyKGxpc3RlbmVyRm46IExpc3RlbmVyPFQ+KSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyRm4pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFByb2plY3RTdGF0ZSBleHRlbmRzIFN0YXRlPFByb2plY3Q+IHtcclxuICBwcml2YXRlIHByb2plY3RzOiBQcm9qZWN0W10gPSBbXTtcclxuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogUHJvamVjdFN0YXRlO1xyXG5cclxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBQcm9qZWN0U3RhdGUoKTtcclxuICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgYWRkUHJvamVjdCh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBudW1PZlBlb3BsZTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QoXHJcbiAgICAgIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSxcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBudW1PZlBlb3BsZSxcclxuICAgICAgUHJvamVjdFN0YXR1cy5BY3RpdmVcclxuICAgICk7XHJcbiAgICB0aGlzLnByb2plY3RzLnB1c2gobmV3UHJvamVjdCk7XHJcbiAgICB0aGlzLnVwZGF0ZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgbW92ZVByb2plY3QocHJvamVjdElkOiBzdHJpbmcsIG5ld1N0YXR1czogUHJvamVjdFN0YXR1cykge1xyXG4gICAgY29uc3QgcHJvamVjdCA9IHRoaXMucHJvamVjdHMuZmlsdGVyKChwcmopID0+IHByai5pZCA9PT0gcHJvamVjdElkKVswXTtcclxuICAgIGlmIChwcm9qZWN0LnN0YXR1cyAhPSBuZXdTdGF0dXMpIHtcclxuICAgICAgcHJvamVjdC5zdGF0dXMgPSBuZXdTdGF0dXM7XHJcbiAgICAgIHRoaXMudXBkYXRlTGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUxpc3RlbmVycygpIHtcclxuICAgIGZvciAoY29uc3QgbGlzdGVuZXJGbiBvZiB0aGlzLmxpc3RlbmVycykge1xyXG4gICAgICBsaXN0ZW5lckZuKHRoaXMucHJvamVjdHMuc2xpY2UoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJvamVjdFN0YXRlID0gUHJvamVjdFN0YXRlLmdldEluc3RhbmNlKCk7XHJcbiIsIi8vIFZhbGlkYXRpb25cclxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0YWJsZSB7XHJcbiAgdmFsdWU6IHN0cmluZyB8IG51bWJlcjtcclxuICByZXF1aXJlZD86IGJvb2xlYW47XHJcbiAgbWluTGVuZ3RoPzogbnVtYmVyO1xyXG4gIG1heExlbmd0aD86IG51bWJlcjtcclxuICBtaW4/OiBudW1iZXI7XHJcbiAgbWF4PzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUodmFsaWRhdGFibGVJbnB1dDogVmFsaWRhdGFibGUpIHtcclxuICBsZXQgaXNWYWxpZCA9IHRydWU7XHJcblxyXG4gIGlmICh2YWxpZGF0YWJsZUlucHV0LnJlcXVpcmVkKSB7XHJcbiAgICBpc1ZhbGlkID0gaXNWYWxpZCAmJiB2YWxpZGF0YWJsZUlucHV0LnZhbHVlLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCAhPT0gMDtcclxuICB9XHJcblxyXG4gIGlmIChcclxuICAgIHZhbGlkYXRhYmxlSW5wdXQubWluTGVuZ3RoICE9IG51bGwgJiYgLy8gIT0gY2hlY2tzIGZvciBudWxsIGFuZCB1bmRlZmluZWQsICE9PSBjaGVja3Mgb25seSBudWxsXHJcbiAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICkge1xyXG4gICAgaXNWYWxpZCA9XHJcbiAgICAgIGlzVmFsaWQgJiYgdmFsaWRhdGFibGVJbnB1dC52YWx1ZS5sZW5ndGggPj0gdmFsaWRhdGFibGVJbnB1dC5taW5MZW5ndGg7XHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICB2YWxpZGF0YWJsZUlucHV0Lm1heExlbmd0aCAhPSBudWxsICYmIC8vICE9IGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWQsICE9PSBjaGVja3Mgb25seSBudWxsXHJcbiAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICkge1xyXG4gICAgaXNWYWxpZCA9XHJcbiAgICAgIGlzVmFsaWQgJiYgdmFsaWRhdGFibGVJbnB1dC52YWx1ZS5sZW5ndGggPD0gdmFsaWRhdGFibGVJbnB1dC5tYXhMZW5ndGg7XHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICB2YWxpZGF0YWJsZUlucHV0Lm1pbiAhPSBudWxsICYmXHJcbiAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gXCJudW1iZXJcIlxyXG4gICkge1xyXG4gICAgaXNWYWxpZCA9IGlzVmFsaWQgJiYgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA+PSB2YWxpZGF0YWJsZUlucHV0Lm1pbjtcclxuICB9XHJcblxyXG4gIGlmIChcclxuICAgIHZhbGlkYXRhYmxlSW5wdXQubWF4ICE9IG51bGwgJiZcclxuICAgIHR5cGVvZiB2YWxpZGF0YWJsZUlucHV0LnZhbHVlID09PSBcIm51bWJlclwiXHJcbiAgKSB7XHJcbiAgICBpc1ZhbGlkID0gaXNWYWxpZCAmJiB2YWxpZGF0YWJsZUlucHV0LnZhbHVlIDw9IHZhbGlkYXRhYmxlSW5wdXQubWF4O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlzVmFsaWQ7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZVxuX193ZWJwYWNrX3JlcXVpcmVfXyg3NTIpO1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnZXhwb3J0cycgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuIl0sInNvdXJjZVJvb3QiOiIifQ==